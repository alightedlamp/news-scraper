{"version":3,"sources":["../../../src/public/js/index.js"],"names":["$","document","ready","convert","data","reduce","o","item","name","value","trim","handleError","err","messageType","msg","status","html","submit","handleRegistration","e","preventDefault","serializeArray","post","fail","handleLogin","done","window","location","href"],"mappings":";;AAAAA,EAAEC,QAAF,EAAYC,KAAZ,CAAkB,YAAM;AACtB,MAAMC,UAAU,SAAVA,OAAU;AAAA,WACdC,KAAKC,MAAL,CAAY,UAACC,CAAD,EAAIC,IAAJ,EAAa;AACvBD,QAAEC,KAAKC,IAAP,IAAeD,KAAKE,KAAL,CAAWC,IAAX,EAAf;AACA,aAAOJ,CAAP;AACD,KAHD,EAGG,EAHH,CADc;AAAA,GAAhB;;AAMA,MAAMK,cAAc,SAAdA,WAAc,CAACC,GAAD,EAAS;AAC3B,QAAIC,cAAc,SAAlB;AACA,QAAIC,MAAM,oDAAV;AACA,QAAIF,IAAIG,MAAJ,KAAe,GAAnB,EAAwB;AACtBF,oBAAc,QAAd;AACAC,YAAM,yCAAN;AACD,KAHD,MAGO,IAAIF,IAAIG,MAAJ,KAAe,GAAf,IAAsBH,IAAIG,MAAJ,KAAe,GAAzC,EAA8C;AACnDF,oBAAc,SAAd;AACAC,YAAM,wBAAN;AACD;AACDd,MAAE,YAAF,EAAgBgB,IAAhB,0BAA4CH,WAA5C,kCAAoFC,GAApF;AACD,GAXD;;AAaAd,IAAE,oBAAF,EAAwBiB,MAAxB,CAA+B,SAASC,kBAAT,CAA4BC,CAA5B,EAA+B;AAC5DA,MAAEC,cAAF;AACA,QAAMhB,OAAOD,QAAQH,EAAE,IAAF,EAAQqB,cAAR,EAAR,CAAb;AACArB,MAAEsB,IAAF,CAAO,gBAAP,EAAyBlB,IAAzB,EAA+BmB,IAA/B,CAAoC;AAAA,aAAOZ,YAAYC,GAAZ,CAAP;AAAA,KAApC;AACD,GAJD;;AAMAZ,IAAE,aAAF,EAAiBiB,MAAjB,CAAwB,SAASO,WAAT,CAAqBL,CAArB,EAAwB;AAC9CA,MAAEC,cAAF;AACA,QAAMhB,OAAOD,QAAQH,EAAE,IAAF,EAAQqB,cAAR,EAAR,CAAb;AACArB,MAAEsB,IAAF,CAAO,aAAP,EAAsBlB,IAAtB,EACGqB,IADH,CACQ,YAAM;AACVC,aAAOC,QAAP,CAAgBC,IAAhB,GAAuB,OAAvB;AACD,KAHH,EAIGL,IAJH,CAIQ;AAAA,aAAOZ,YAAYC,GAAZ,CAAP;AAAA,KAJR;AAKD,GARD;AASD,CAnCD","file":"index.js","sourcesContent":["$(document).ready(() => {\n  const convert = data =>\n    data.reduce((o, item) => {\n      o[item.name] = item.value.trim()\n      return o\n    }, {})\n\n  const handleError = (err) => {\n    let messageType = 'success'\n    let msg = \"The person who wrote this didn't handle this code!\"\n    if (err.status === 500) {\n      messageType = 'danger'\n      msg = 'Something went wrong in the application'\n    } else if (err.status === 401 || err.status === 403) {\n      messageType = 'warning'\n      msg = 'You are not logged in!'\n    }\n    $('#flash-msg').html(`<div class=\"message ${messageType}\"><strong>Error</strong>: ${msg}</div>`)\n  }\n\n  $('#registration-form').submit(function handleRegistration(e) {\n    e.preventDefault()\n    const data = convert($(this).serializeArray())\n    $.post('/user/register', data).fail(err => handleError(err))\n  })\n\n  $('#login-form').submit(function handleLogin(e) {\n    e.preventDefault()\n    const data = convert($(this).serializeArray())\n    $.post('/user/login', data)\n      .done(() => {\n        window.location.href = '/user'\n      })\n      .fail(err => handleError(err))\n  })\n})\n"]}